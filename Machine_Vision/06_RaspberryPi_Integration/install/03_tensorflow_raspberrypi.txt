-- Install linux dependencies for Tensorflow --

sudo apt install python-dev python-pip

-- Install Tensorflow pip package dependencies --

sudo pip3 install -U --user pip six numpy wheel setuptools mock 'future>=0.17.1'
sudo pip3 install -U --user keras_applications --no-deps
sudo pip3 install -U --user keras_preprocessing --no-deps

-- Get Tensorflow installation files --

git clone https://github.com/tensorflow/tensorflow.git
cd tensorflow

-- Configure tensorflow installer --

./configure

-- Build Tensorflow installer using Bazel --

# Validated:

bazel build --jobs 1 \
            --config=opt \
            --local_resources 1024,1.0,1.0 \
            --verbose_failures \
            //tensorflow/tools/pip_package:build_pip_package

# Experimental:

bazel build -c opt --copt="-mfpu=neon-vfpv4" \
                   --copt="-funsafe-math-optimizations" \
                   --copt="-ftree-vectorize" \
                   --copt="-fomit-frame-pointer" \
                   --local_resources 1024,1.0,1.0 \
                   --verbose_failures \
                   tensorflow/tools/pip_package:build_pip_package

-- Or --
# With explicit environment path:
# Not validated:

bazel build -c opt --copt="-mfpu=neon-vfpv4" \
                   --copt="-funsafe-math-optimizations" \
                   --copt="-ftree-vectorize" \
                   --copt="-fomit-frame-pointer" \
                   --local_resources 1024,1.0,1.0 \
                   --verbose_failures \
                   tensorflow/tools/pip_package:build_pip_package \
                   --action_env="LD_LIBRARY_PATH=${LD_LIBRARY_PATH}"